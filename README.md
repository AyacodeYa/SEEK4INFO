# Offer匹配器 - 智能求职决策助手

[![Python](https://img.shields.io/badge/Python-3.9+-blue.svg)](https://www.python.org/)
[![MCP](https://img.shields.io/badge/MCP-Protocol-green.svg)](https://modelcontextprotocol.io/)
[![Ollama](https://img.shields.io/badge/Ollama-Local%20AI-orange.svg)](https://ollama.com/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

## 🎯 项目简介

**Offer匹配器**是一个基于MCP协议和本地Ollama大模型的智能求职决策助手，帮助求职者快速分析岗位匹配度，提供专业的决策建议。

### 核心特点
- 🤖 **本地AI**：使用Ollama运行本地大模型，数据隐私有保障
- 🔌 **MCP协议**：标准化接口，易于集成到其他工具
- 📊 **智能分析**：多维度评估岗位匹配度（硬技能、软实力、发展前景等）
- 🎨 **友好界面**：提供Web UI和命令行两种使用方式
- 🚀 **快速上手**：3分钟即可开始使用

## 项目背景
**痛点识别**：秋招期间，求职者面对大量offer和岗位，难以快速判断：
- 岗位要求与个人能力是否匹配？
- 公司文化和发展前景是否符合预期？
- 薪资待遇是否合理？
- 是否有更适合的岗位推荐？

**解决方案**：基于AI的智能Offer匹配器，自动化分析公司信息与个人简历的适配度，为求职者提供专业的决策建议。

## 项目概述
这是一个两阶段智能决策系统：
1. **信息采集阶段**：爬取目标公司官网的招聘信息、公司介绍、职员待遇等
2. **智能匹配阶段**：结合用户简历和目标岗位，进行适配度分析和岗位推荐

---

## 🚀 快速开始

### 前置要求
- Python 3.9+
- [Ollama](https://ollama.com/download)（本地AI运行环境）

### 安装步骤

1. **安装Ollama并下载模型**
```powershell
# 安装Ollama（访问官网下载）
# https://ollama.com/download

# 下载推荐模型（轻量级，3B参数）
ollama pull llama3.2:3b
```

2. **安装项目依赖**
```powershell
# 克隆/进入项目目录
cd Seek4Info

# 安装依赖
pip install -r requirements.txt

# 复制配置文件
Copy-Item .env.example .env
```

3. **启动服务**

**Web界面（推荐）：**
```powershell
streamlit run app.py
```
访问：http://localhost:8501

**命令行测试：**
```powershell
python cli.py --mode test
```

**完整分析：**
```powershell
python cli.py --mode analyze `
  --company "腾讯" `
  --resume "examples/sample_resume.txt" `
  --job "examples/sample_job.txt"
```

详细说明请查看 [快速开始指南](QUICKSTART.md)

---

## 📖 使用示例

### Web界面使用

![Web界面截图](docs/screenshot.png)

1. 输入公司名称
2. 上传简历（PDF/Word/TXT）
3. 粘贴岗位描述
4. 点击"开始分析"
5. 查看详细的匹配分析报告

### 命令行使用

```powershell
# 分析单个岗位
python cli.py --mode analyze `
  --company "阿里巴巴" `
  --resume "my_resume.pdf" `
  --job "job_description.txt" `
  --url "https://www.alibaba.com"
```

### Python脚本集成

```python
import asyncio
from src.parsers.resume_parser import ResumeParser
from src.ai.matcher import OfferMatcher

async def analyze():
    parser = ResumeParser()
    resume = await parser.parse_file("resume.pdf")
    
    matcher = OfferMatcher()
    result = await matcher.analyze_match(
        resume_data=resume,
        job_description="...",
        company_info={},
        user_preferences={}
    )
    
    print(f"匹配度: {result['overall_score']}/100")

asyncio.run(analyze())
```

更多示例请查看 [使用示例文档](examples/usage_examples.md)

---

## 📁 项目结构

```
Seek4Info/
├── src/                      # 源代码
│   ├── ai/                   # AI模块
│   │   ├── ollama_client.py  # Ollama客户端
│   │   ├── matcher.py        # 匹配分析器
│   │   └── prompts.py        # 提示词模板
│   ├── scrapers/             # 爬虫模块
│   │   └── company_scraper.py
│   ├── parsers/              # 解析模块
│   │   └── resume_parser.py
│   ├── utils/                # 工具模块
│   │   └── logger.py
│   └── mcp_server.py         # MCP服务器
├── examples/                 # 示例文件
│   ├── sample_resume.txt
│   ├── sample_job.txt
│   └── usage_examples.md
├── cli.py                    # 命令行客户端
├── app.py                    # Streamlit Web应用
├── config.py                 # 配置管理
├── requirements.txt          # 依赖列表
├── QUICKSTART.md             # 快速开始指南
└── README.md                 # 项目文档
```

---

## 方案可行性分析

### ✅ 商业可行性 - 极高 ⭐⭐⭐⭐⭐
1. **市场需求明确**
   - 秋招期间（7-11月）大量应届生有决策需求
   - 社招人群同样面临offer选择困境
   - 付费意愿强（关系职业发展重大决策）

2. **痛点精准**
   - 信息不对称：公司信息分散，难以获取全貌
   - 时间压力：offer有效期短，需快速决策
   - 专业性缺乏：缺少专业评估和分析能力

3. **差异化竞争**
   - 现有招聘平台多为信息展示，缺乏深度分析
   - AI驱动的个性化匹配是核心竞争力
   - 可扩展至职业规划、薪资谈判等增值服务

### ✅ 技术可行性 - 高 ⭐⭐⭐⭐
1. **信息采集技术成熟**
   - Python爬虫生态完善（Scrapy, Selenium, BeautifulSoup）
   - 可处理各类动态和静态网页
   - API集成（拉勾、Boss直聘等有开放API）

2. **AI匹配能力强大**
   - LLM（GPT-4, Claude等）可进行语义理解和匹配
   - 简历解析技术成熟（技能提取、经验分析）
   - 职位描述NLP处理（要求提取、优先级分析）

3. **数据处理与分析**
   - 向量数据库（Pinecone, Weaviate）实现语义搜索
   - 知识图谱构建公司-岗位-技能关系
   - 机器学习模型预测匹配度

### ⚠️ 法律与合规风险 - 中等（可控） ⭐⭐⭐
1. **数据爬取合规**
   - ✅ 优先使用官方API（智联招聘、拉勾网等有开放接口）
   - ✅ 爬取公开信息（公司官网公开内容）
   - ⚠️ 遵守robots.txt和请求频率限制
   - ⚠️ 避免爬取需登录的敏感信息

2. **用户隐私保护**
   - ✅ 用户简历本地处理，不上传至公开服务器
   - ✅ 符合《个人信息保护法》要求
   - ✅ 明确数据使用授权和范围

3. **知识产权**
   - ✅ 数据仅用于个人决策辅助，非商业转售
   - ✅ 标注信息来源，尊重原创内容
   - ⚠️ 避免大规模批量数据存储和分发

### 🔧 技术挑战与解决方案 - 中等（可解决） ⭐⭐⭐
1. **多源数据整合**
   - **挑战**：不同公司官网结构差异大，招聘平台格式不统一
   - **解决**：
     - 建立公司网站模板库（Top 500企业优先适配）
     - AI驱动的智能页面解析（GPT-4 Vision识别页面结构）
     - 多平台数据交叉验证（官网+Boss直聘+拉勾+脉脉）

2. **简历解析准确性**
   - **挑战**：简历格式多样，关键信息提取难度大
   - **解决**：
     - 支持PDF、Word、图片等多格式
     - LLM结构化提取（技能、项目、教育背景）
     - 用户交互式确认和补充

3. **匹配算法精准度**
   - **挑战**：如何准确评估"匹配度"这一主观指标
   - **解决**：
     - 多维度评分（技能匹配、经验匹配、发展前景、薪资满意度）
     - 历史数据训练（用户反馈优化模型）
     - 可解释AI（明确说明匹配/不匹配的理由）

4. **数据时效性**
   - **挑战**：招聘信息更新频繁，需保持数据新鲜度
   - **解决**：
     - 增量爬取策略（仅更新变化部分）
     - 缓存机制（24小时内复用数据）
     - 用户触发式实时抓取

## 核心功能设计

### 阶段一：公司信息采集 🔍
**目标信息类型**（按优先级排序）：

#### 🎯 P0 - 关键决策信息
- **招聘岗位详情**
  - 岗位名称、职责描述、任职要求
  - 薪资范围（明确/估算）
  - 工作地点、汇报对象
  - 岗位发布时间、有效期
  
- **职员待遇**
  - 薪酬结构（基本工资、绩效、股权）
  - 福利体系（五险一金、补充保险、年假）
  - 工作时间（是否995/996、弹性工作）
  - 晋升机制和培训体系

#### 📊 P1 - 公司背景信息
- **公司基本情况**
  - 公司规模（员工数、营收、融资轮次）
  - 行业地位（市场份额、竞争对手）
  - 发展历程（成立时间、里程碑事件）
  
- **企业文化**
  - 价值观、使命愿景
  - 工作氛围（从员工评价中提取）
  - 管理风格（扁平化/层级化）

#### 🔮 P2 - 发展前景评估
- **行业趋势**：所属行业的增长潜力
- **公司动态**：最近融资、产品发布、业务扩张
- **员工评价**：看准网、脉脉等平台的真实反馈

### 阶段二：智能匹配分析 🤖

#### 输入信息
1. **用户简历**（PDF/Word/文本）
   - 教育背景（学校、专业、学历）
   - 工作/实习经验（公司、职位、时长、成果）
   - 项目经历（技术栈、角色、亮点）
   - 技能清单（编程语言、框架、工具）
   - 个人偏好（期望薪资、工作地点、加班接受度）

2. **目标岗位**
   - 具体岗位名称
   - 公司名称

#### 分析维度
**多维度匹配评分（0-100分）**：

1. **硬技能匹配度（40%权重）**
   - 技术栈吻合度
   - 项目经验相关性
   - 学历/专业要求达标情况

2. **软实力匹配度（20%权重）**
   - 工作年限是否符合要求
   - 行业背景相关性
   - 综合素质评估

3. **发展前景匹配度（20%权重）**
   - 岗位成长空间
   - 公司发展潜力
   - 行业趋势向好

4. **个人偏好匹配度（20%权重）**
   - 薪资满意度
   - 地理位置便利性
   - 工作生活平衡

#### 输出结果
1. **综合匹配报告**
   ```
   📊 匹配度总分：78/100
   
   ✅ 优势项：
   - 技术栈高度匹配（Java Spring Boot经验3年）
   - 薪资符合预期（15-20K，期望18K）
   
   ⚠️ 风险项：
   - 工作强度较大（可能996）
   - 职位要求5年经验，你有3年（可尝试）
   
   💡 建议：
   - 可以投递，通过概率60%
   - 面试时重点强调XX项目经验
   - 准备XX技术相关问题
   ```

2. **岗位推荐**（如匹配度<60）
   ```
   🎯 该公司更适合你的岗位：
   
   1. 【Java开发工程师 - 中级】- 匹配度 85/100
      理由：技术要求与你经验完全吻合，薪资15-18K
      
   2. 【后端开发实习生 - 转正】- 匹配度 72/100
      理由：可作为备选，压力较小，成长空间大
   ```

3. **决策建议**
   - 是否投递：推荐/谨慎/不推荐
   - 谈判建议：薪资谈判空间、福利关注点
   - 准备清单：需补充的技能、面试重点

## 技术架构设计

### 系统架构图
```
用户输入（简历+目标岗位）
         ↓
    ┌────────────────────────────────┐
    │   前端交互层（Streamlit/Web）   │
    └────────────────────────────────┘
         ↓
    ┌────────────────────────────────┐
    │      业务逻辑层（FastAPI）      │
    │  - 简历解析服务                 │
    │  - 匹配分析引擎                 │
    │  - 推荐算法                     │
    └────────────────────────────────┘
         ↓
    ┌────────────────────────────────┐
    │      数据采集层（Scrapy）       │
    │  - 公司官网爬虫                 │
    │  - 招聘平台API集成              │
    │  - 员工评价采集                 │
    └────────────────────────────────┘
         ↓
    ┌────────────────────────────────┐
    │    AI处理层（LLM + Vector DB）  │
    │  - GPT-4/Claude（分析匹配）     │
    │  - Embedding（语义搜索）        │
    │  - Prompt Engineering           │
    └────────────────────────────────┘
         ↓
    ┌────────────────────────────────┐
    │   数据存储层（PostgreSQL）      │
    │  - 公司信息库                   │
    │  - 岗位数据库                   │
    │  - 用户历史记录                 │
    └────────────────────────────────┘
```

### 技术栈详细说明

#### 1. 数据采集模块
```python
# 核心技术
- Scrapy：高性能爬虫框架（公司官网）
- Selenium：处理动态JS渲染（招聘页面）
- BeautifulSoup：HTML解析
- Playwright：现代化浏览器自动化（备选）

# API集成
- Boss直聘开放平台
- 拉勾网API
- 智联招聘API
```

#### 2. AI分析模块
```python
# LLM服务
- OpenAI GPT-4：主力分析引擎
- Claude 3.5：备用方案
- 本地模型（Llama 3）：隐私敏感场景

# 向量数据库
- Pinecone：云端向量搜索
- Chroma：开源轻量级方案

# Prompt框架
- LangChain：Agent编排
- LlamaIndex：文档索引和检索
```

#### 3. 简历解析模块
```python
# 文档处理
- PyPDF2/pdfplumber：PDF解析
- python-docx：Word文档处理
- pytesseract：OCR图片识别

# NLP处理
- spaCy：命名实体识别（NER）
- jieba：中文分词
- Regex：模式匹配（邮箱、电话等）
```

#### 4. 前端交互
```python
# Web框架
- Streamlit：快速原型（MVP推荐）
- FastAPI + React：生产级应用
- Gradio：AI演示界面（备选）

# 可视化
- Plotly：交互式图表
- ECharts：匹配度雷达图
```

#### 5. 数据存储
```sql
-- 关系型数据库
PostgreSQL：结构化数据存储
  - companies（公司表）
  - positions（岗位表）
  - user_analyses（分析历史）
  
-- 缓存层
Redis：热点数据缓存（公司信息24h有效）
```

### 实施路线图

#### 第一阶段：MVP（2-3周）✅ 核心价值验证
**目标**：验证核心功能可行性

- [ ] Week 1：数据采集
  - 实现Top 10公司官网爬虫
  - 集成1-2个招聘平台API
  - 建立基础数据库schema

- [ ] Week 2：简历解析 + 基础匹配
  - PDF/Word简历解析（80%准确率）
  - 简单匹配算法（技能关键词匹配）
  - 命令行交互界面

- [ ] Week 3：AI集成 + UI
  - GPT-4集成做深度分析
  - Streamlit简单Web界面
  - 生成文本报告

**交付物**：可演示的原型，支持1家公司的完整分析流程

#### 第二阶段：功能增强（4-6周）📈 提升准确性
**目标**：提高匹配准确度和覆盖范围

- [ ] Week 4-5：扩展数据源
  - 增加50+公司官网适配
  - 整合员工评价（看准网、脉脉）
  - 薪资数据库（Offer Collector数据）

- [ ] Week 6-7：优化匹配算法
  - 多维度评分系统
  - 历史数据训练优化
  - 岗位推荐功能

- [ ] Week 8-9：用户体验优化
  - 美化Web界面
  - 添加数据可视化
  - 生成PDF报告

**交付物**：支持50+公司，匹配准确率>70%

#### 第三阶段：商业化（2-3个月）💰 产品打磨
**目标**：形成可持续产品

- [ ] Month 3：
  - 用户账号系统
  - 历史记录管理
  - 批量分析功能（对比多个offer）

- [ ] Month 4：
  - 移动端适配
  - 付费功能设计（高级分析、专家咨询）
  - API开放给第三方

- [ ] Month 5：
  - 数据分析仪表盘（管理员）
  - A/B测试不同算法
  - 用户反馈闭环

**交付物**：商业化产品，支持500+公司

### 关键里程碑
- **1个月内**：MVP上线，获取10个种子用户反馈
- **3个月内**：功能完善，累计100个用户使用
- **6个月内**：商业化运营，探索变现模式

## 成本估算

### 开发成本（MVP阶段）
| 项目 | 预估成本 | 说明 |
|------|---------|------|
| **开发人员** | ¥0（个人项目） | 或外包¥15,000-30,000 |
| **AI API** | ¥500-1,000/月 | GPT-4 API调用费用 |
| **云服务器** | ¥200-500/月 | 阿里云/腾讯云基础配置 |
| **数据存储** | ¥100/月 | PostgreSQL + Redis |
| **代理IP池** | ¥300/月 | 应对反爬虫（可选） |
| **域名+SSL** | ¥100/年 | 品牌域名 |
| **总计（月）** | **¥1,100-2,000** | 不含开发人力 |

### 商业化成本（扩展阶段）
- 营销推广：¥5,000-20,000/月（社媒、KOL合作）
- 客服支持：¥3,000/月（兼职客服）
- 数据维护：¥2,000/月（定期更新爬虫规则）

### 潜在收入模式
1. **免费版**：每月3次分析（获取用户）
2. **基础会员**：¥29.9/月，无限次分析
3. **高级会员**：¥99/月，含专家1v1咨询
4. **企业版**：¥999/年，API接入+定制化

**盈亏平衡点**：约150个付费用户/月

## 风险评估与应对

### 🔴 高优先级风险

#### 1. 数据准确性风险
**风险**：信息爬取不准确或过时，导致误导用户
**影响**：用户信任度下降，法律纠纷
**应对**：
- ✅ 多数据源交叉验证（官网+3个招聘平台）
- ✅ 显著标注数据来源和更新时间
- ✅ 用户反馈机制（报告错误信息）
- ✅ 免责声明（决策辅助工具，非唯一依据）

#### 2. 平台封禁风险
**风险**：爬虫被目标网站封禁，无法获取数据
**影响**：功能失效，用户流失
**应对**：
- ✅ 优先使用官方API（降低爬虫依赖）
- ✅ 分布式IP池 + 请求频率控制
- ✅ 建立数据缓存机制（24-48小时有效）
- ✅ 用户手动上传信息（备用方案）

### 🟡 中优先级风险

#### 3. AI分析偏差
**风险**：LLM生成内容存在偏见或错误
**应对**：
- ✅ 人工审核样本（前100个分析报告）
- ✅ 多模型交叉验证（GPT-4 + Claude）
- ✅ 用户满意度评分（优化Prompt）

#### 4. 竞争风险
**风险**：大厂（Boss直聘、智联）推出类似功能
**应对**：
- ✅ 垂直化差异竞争（专注应届生市场）
- ✅ 深度分析能力（非简单推荐）
- ✅ 快速迭代抢占先机

### 🟢 低优先级风险

#### 5. 成本超支
**风险**：AI API费用超预算
**应对**：
- 使用本地模型（Llama 3）处理简单任务
- 缓存结果避免重复调用
- 分级服务（免费用户限制调用次数）

## 竞品分析

### 现有解决方案对比

| 产品 | 核心功能 | 优势 | 劣势 | 差异化空间 |
|------|---------|------|------|-----------|
| **Boss直聘** | 职位推荐 | 平台大、岗位多 | 推荐算法简单，无深度分析 | ✅ 我们提供深度匹配分析 |
| **拉勾网** | 互联网招聘 | 垂直领域专业 | 缺少决策辅助 | ✅ AI驱动的决策建议 |
| **看准网** | 公司点评 | 真实员工评价 | 信息分散，需手动整合 | ✅ 自动整合多源信息 |
| **职徒简历** | 简历优化 | 简历诊断准确 | 不涉及岗位匹配 | ✅ 结合岗位做匹配分析 |
| **Offer格格** | Offer比较 | 多offer横向对比 | 需手动输入，无AI | ✅ 自动采集+AI分析 |

**结论**：市场上暂无完整的"信息采集+AI匹配+决策建议"一体化产品

## 关键成功因素（KSF）

### 必备要素（MUST HAVE）
1. **数据准确性** > 90%：不准确的信息比没有信息更糟
2. **分析专业性**：匹配逻辑要符合HR招聘思维
3. **响应速度**：5分钟内完成一次完整分析
4. **用户隐私**：简历数据本地处理，不泄露

### 加分项（NICE TO HAVE）
1. 历史Offer案例库（"XX学校的同学去了这家公司"）
2. 薪资谈判建议（基于大数据的合理范围）
3. 面试题库（该岗位高频面试题）
4. 职业规划（长期发展路径建议）

## 最终结论

### 总体可行性评估：⭐⭐⭐⭐⭐ 强烈推荐执行

#### 🎯 为什么这个项目值得做？

1. **市场需求真实存在**
   - 每年应届生900万+，社招人群数千万
   - Offer选择焦虑是普遍痛点
   - 信息不对称导致错误决策成本高

2. **技术完全可行**
   - 爬虫技术成熟，90%公司官网可采集
   - GPT-4已具备专业分析能力
   - 开发周期短（3个月MVP→产品）

3. **商业价值明确**
   - 付费意愿强（关系职业发展）
   - 客单价合理（¥29-99/月）
   - 可扩展性强（企业HR工具、猎头辅助）

4. **竞争优势明显**
   - 市场空白：无直接竞品
   - AI赋能：传统平台难以快速复制
   - 轻量级：个人/小团队可启动

#### ⚠️ 需要注意的关键点

1. **法律合规是红线**
   - 优先使用API，谨慎爬虫
   - 明确免责声明
   - 用户隐私保护到位

2. **数据质量是生命线**
   - 多源验证机制
   - 定期人工抽查
   - 用户反馈闭环

3. **快速迭代是核心**
   - MVP先验证核心假设
   - 小步快跑，避免过度设计
   - 用户反馈驱动优化

#### 🚀 下一步行动建议

**立即可做的3件事**：
1. **技术验证**（1天）
   - 爬取3家公司官网（腾讯、阿里、字节）测试可行性
   - 测试GPT-4分析岗位匹配度（写个简单Prompt）
   - 解析3份不同格式简历（PDF/Word/文本）

2. **用户调研**（3天）
   - 访谈10个正在找工作的同学/朋友
   - 了解真实痛点和付费意愿
   - 验证功能优先级

3. **MVP规划**（1天）
   - 确定第一版最小功能集
   - 画出系统架构图
   - 制定3周开发计划

**如果验证通过，全力推进！这是一个低成本、高价值、可落地的优质项目。** 🎉

---

## 附录：参考资源

### 学习资源
- [Scrapy官方文档](https://docs.scrapy.org/)
- [LangChain实战教程](https://python.langchain.com/)
- [简历解析开源项目](https://github.com/topics/resume-parser)

### 数据源
- [Boss直聘开放平台](https://open.zhipin.com/)
- [看准网](https://www.kanzhun.com/)
- [Offer Collector](https://offershow.cn/)（薪资数据）

### 法律合规
- [《网络爬虫法律风险指南》](https://www.example.com)
- [《个人信息保护法》全文](https://www.example.com)

---

**项目代号：Offer Matcher（Offer匹配器）**  
**版本：v1.0 可行性报告**  
**更新时间：2025-11-18**